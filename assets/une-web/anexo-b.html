<section id="card" class="card">
  <header class="card-header text-center">
    <h2>Anexo B</h2>
  </header>
  <article class="card-body">
    <p class="pb-4">NOTA: El contenido se basa en la UNE 301549 y se presenta de manera estructurada y simplificada. Cualquier error es inadvertido. Si necesita aclaraciones sobre el contenido, no dude en contactarme.</p>
    <div class="accordion" id="accordionExample">
      <div class="accordion-item">
        <h2 class="accordion-header" id="headingTwo">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
            Abreviaturas
          </button>
        </h2>
        <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
          <div class="accordion-body">
            <p>SV = 4.2.1 Uso sin visión</p>
            <p>VL = 4.2.2 Uso con visión limitada</p> 
            <p>SPC = 4.2.3 Uso sin percepción del color</p>
            <p>SA = 4.2.4 Uso sin audición</p>
            <p>AL = 4.2.5 Uso con audición limitada</p>
            <p>SCV = 4.2.6 Uso sin capacidad vocal</p>
            <p>MFL = 4.2.7 Uso con manipulación o fuerza limitadas</p>
            <p>ALL = 4.2.8 Uso con alcance limitado</p>
            <p>DCF = 4.2.9 Minimización de los desencadenantes de convulsiones por fotosensibilidad</p>
            <p>CL = 4.2.10 Uso con capacidad cognitiva limitada</p>
            <p>P = 4.2.11 Privacidad</p>
            <hr/>
            <p>P = Relación primaria. El requisito es compatible con la declaración de prestación funcional.</p>
            <p>S = Relación secundaria. El requisito es parcialmente compatible con la declaración de prestación funcional porque algunos usuarios pueden hacer uso de la característica en situaciones concretas.</p>
          </div>
        </div>
      </div>
    </div>
    <div id="filtro1" class="col-12 btn-group py-3" role="group">
			<div class="input-group-text" id="btnGroupAddon">Mostrar u ocultar :</div>
			<input type="checkbox" class="btn-check" data-column="1" id="sv" aria-describedby="btnGroupAddon" autocomplete="off">
			<label class="btn btn-secondary" for="sv"><abbr title="4.2.1. Uso sin visión">SV</abbr></label>

			<input type="checkbox" class="btn-check" data-column="2" id="vl" aria-describedby="btnGroupAddon" autocomplete="off">
			<label class="btn btn-secondary" for="vl"><abbr title="4.2.2. Uso con visión limitada">VL</abbr></label>

			<input type="checkbox" class="btn-check" data-column="3" id="spc" aria-describedby="btnGroupAddon" autocomplete="off">
			<label class="btn btn-secondary" for="spc"><abbr title="4.2.3. Uso sin percepción del color">SPC</abbr></label>

			<input type="checkbox" class="btn-check" data-column="4" id="sa" aria-describedby="btnGroupAddon" autocomplete="off">
			<label class="btn btn-secondary" for="sa"><abbr title="4.2.4. Uso sin audición">SA</abbr></label>

			<input type="checkbox" class="btn-check" data-column="5" id="al" aria-describedby="btnGroupAddon" autocomplete="off">
			<label class="btn btn-secondary" for="al"><abbr title="4.2.5. Uso con audición limitada">AL</abbr></label>
      
			<input type="checkbox" class="btn-check" data-column="6" id="scv" aria-describedby="btnGroupAddon" autocomplete="off">
			<label class="btn btn-secondary" for="scv"><abbr title="4.2.6. Uso sin capacidad vocal">SCV</abbr></label>

			<input type="checkbox" class="btn-check" data-column="7" id="mfl" aria-describedby="btnGroupAddon" autocomplete="off">
			<label class="btn btn-secondary" for="mfl"><abbr title="4.2.7. Uso con manipulación o fuerza limitadas">MFL</abbr></label>

			<input type="checkbox" class="btn-check" data-column="8" id="all" aria-describedby="btnGroupAddon" autocomplete="off">
			<label class="btn btn-secondary" for="all"><abbr title="4.2.8. Uso con alcance limitado">ALL</abbr></label>

			<input type="checkbox" class="btn-check" data-column="9" id="dcf" aria-describedby="btnGroupAddon" autocomplete="off">
			<label class="btn btn-secondary" for="dcf"><abbr title="4.2.9. Minimación de los desencadenantes de convulsiones por fotosensibilidad">DCF</abbr></label>

			<input type="checkbox" class="btn-check" data-column="10" id="cl" aria-describedby="btnGroupAddon" autocomplete="off">
			<label class="btn btn-secondary" for="cl"><abbr title="4.2.10. Uso con capacidad cognitiva limitada">CL</abbr></label>

			<input type="checkbox" class="btn-check" data-column="11" id="privacidad" aria-describedby="btnGroupAddon" autocomplete="off">
			<label class="btn btn-secondary" for="privacidad"><abbr title="4.2.11. Privacidad">P</abbr></label>
    </div>
    <div id="filtro2" class="col-12 btn-group p-3" role="group"></div>
		<table id="table" class="display" style="width:100%">
			<thead>
					<tr>
						<th>Criterio</th>
						<th><abbr title="4.2.1. Uso sin visión">SV</abbr></th>
						<th><abbr title="4.2.2. Uso con visión limitada">VL</abbr></th>
						<th><abbr title="4.2.3. Uso sin percepción del color">SPC</abbr></th>
						<th><abbr title="4.2.4. Uso sin audición">SA</abbr></th>
						<th><abbr title="4.2.5. Uso con audición limitada">AL</abbr></th>
						<th><abbr title="4.2.6. Uso sin capacidad vocal">SCV</abbr></th>
						<th><abbr title="4.2.7. Uso con manipulación o fuerza limitadas">MFL</abbr></th>
						<th><abbr title="4.2.8. Uso con alcance limitado">ALL</abbr></th>
						<th><abbr title="4.2.9. Minimación de los desencadenantes de convulsiones por fotosensibilidad">DCF</abbr></th>
						<th><abbr title="4.2.10. Uso con capacidad cognitiva limitada">CL</abbr></th>
						<th><abbr title="4.2.11. Privacidad">P</abbr></th>
					</tr>
			</thead>
			<tfoot>
					<tr>
						<th>Criterio</th>
						<th><abbr title="4.2.1. Uso sin visión">SV</abbr></th>
						<th><abbr title="4.2.2. Uso con visión limitada">VL</abbr></th>
						<th><abbr title="4.2.3. Uso sin percepción del color">SPC</abbr></th>
						<th><abbr title="4.2.4. Uso sin audición">SA</abbr></th>
						<th><abbr title="4.2.5. Uso con audición limitada">AL</abbr></th>
						<th><abbr title="4.2.6. Uso sin capacidad vocal">SCV</abbr></th>
						<th><abbr title="4.2.7. Uso con manipulación o fuerza limitadas">MFL</abbr></th>
						<th><abbr title="4.2.8. Uso con alcance limitado">ALL</abbr></th>
						<th><abbr title="4.2.9. Minimación de los desencadenantes de convulsiones por fotosensibilidad">DCF</abbr></th>
						<th><abbr title="4.2.10. Uso con capacidad cognitiva limitada">CL</abbr></th>
						<th><abbr title="4.2.11. Privacidad">P</abbr></th>
					</tr>
			</tfoot>
		</table>
  </article>
</section>

<script>
  $(document).ready(function () {
    let table = $('#table').DataTable({
      info: true,
      paging: false,
      ordering: false,
      searching: true,
      language: { url: '//cdn.datatables.net/plug-ins/1.12.1/i18n/es-ES.json' },
      ajax: './assets/une-web/anexo-b.json',
      columns: [
          { data: 'criterio' },
          { data: 'beneficia', 
            render: function (data, type, row, meta) {
              return data.SV
            }
          },
          { data: 'beneficia', 
            render: function (data, type, row, meta) {
              return data.VL
            }
          },
          { data: 'beneficia', 
            render: function (data, type, row, meta) {
              return data.SPC
            }
          },
          { data: 'beneficia', 
            render: function (data, type, row, meta) {
              return data.SA
            }
          },
          { data: 'beneficia', 
            render: function (data, type, row, meta) {
              return data.AL
            }
          },
          { data: 'beneficia', 
            render: function (data, type, row, meta) {
              return data.SCV
            }
          },
          { data: 'beneficia', 
            render: function (data, type, row, meta) {
              return data.MFL
            }
          },
          { data: 'beneficia', 
            render: function (data, type, row, meta) {
              return data.ALL
            }
          },
          { data: 'beneficia', 
            render: function (data, type, row, meta) {
              return data.DCF
            }
          },
          { data: 'beneficia', 
            render: function (data, type, row, meta) {
              return data.CL
            }
          },
          { data: 'beneficia', 
            render: function (data, type, row, meta) {
              return data.P
            }
          },
      ],
    });
    $('#filtro1 input').on('click', function () {
      var column = table.column($(this).attr('data-column'));
      column.visible(!column.visible());
    });

    $('#filtro2').append('<div class="input-group-text" id="btnGroupAddon">Capítulos :</div>')
    for (i=5; i<=13; i++) {
      $('#filtro2').append('<input type="checkbox" class="btn-check" id=capitulo"' + i + '" aria-describedby="btnGroupAddon" autocomplete="off">');
      $('#filtro2').append('<label class="btn btn-secondary" for=capitulo"' + i + '">' + i + '</label>')
    }
    $('#filtro2 input').on('click', function () {
      table
        .columns(0)
        .search(this.id)
        .draw();
    });
  });
</script>