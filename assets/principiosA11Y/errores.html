<div id="card" class="card">
  <div class="card-header text-center">
    <h2>Errores</h2>
  </div>
  <div class="card-body">
    <h3>Árbol de decisiones</h3>
    <div id="arbol">
      <fieldset class="q1 row mb-3">
        <legend class="col-form-label col-8">¿El error o alerta está vinculado a un elemento de la página?</legend>
        <div class="col-4">
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="q1" id="q1true" value="true">
            <label class="form-check-label" for="q1true">Sí</label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="q1" id="q1false" value="false">
            <label class="form-check-label" for="q1false">No</label>
          </div>
        </div>
      </fieldset>
      <div id="ques1true">
        <fieldset class="q2 row mb-3">
          <legend class="col-form-label col-8">¿El formulario es simple?</legend>
          <div class="col-4">
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="q2" id="q2true" value="true">
              <label class="form-check-label" for="q2true">Sí</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="q2" id="q2false" value="false">
              <label class="form-check-label" for="q2false">No</label>
            </div>
          </div>
        </fieldset>
      </div>
      <div id="ques1false">
        <fieldset class="q3 row mb-3">
          <legend class="col-form-label col-8">¿Hay que mostrar contenido?</legend>
          <div class="col-4">
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="q3" id="q3true" value="true">
              <label class="form-check-label" for="q3true">Sí</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="q3" id="q3false" value="false">
              <label class="form-check-label" for="q3false">No</label>
            </div>
          </div>
        </fieldset>
      
        <div id="ques3true">
          <fieldset class="q4 row mb-3">
            <legend class="col-form-label col-8">¿Requiere atención inmediata?</legend>
            <div class="col-4">
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="q4" id="q4true" value="true">
                <label class="form-check-label" for="q4true">Sí</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="q4" id="q4false" value="false">
                <label class="form-check-label" for="q4false">No</label>
              </div>
            </div>
          </fieldset>
          <div id="ques4false">
            <fieldset class="q5 row mb-3">
              <legend class="col-form-label col-8">¿Se puede descartar el error?</legend>
              <div class="col-4">
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" name="q5" id="q5true" value="true">
                  <label class="form-check-label" for="q5true">Sí</label>
                </div>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" name="q5" id="q5false" value="false">
                  <label class="form-check-label" for="q5false">No</label>
                </div>
              </div>
            </fieldset>
          </div>
        </div>
        
      </div>
    </div>
    <div id="resultado">
      <div id="inline" class="row">
        <div class="col">
          <p>inline</p>
        </div>
        <div class="col">
          
        </div>
      </div>
      <div id="banner" class="row">
        <div class="col">
          <p>banner</p>
        </div>
        <div class="col">
          
        </div>
      </div>
      <div id="modal" class="row">
        <div class="col">
          <p>modal</p>
        </div>
        <div class="col">
          
        </div>
      </div>
      <div id="toast" class="row">
        <div class="col">
          <p>toast</p>
        </div>
        <div class="col">
          
        </div>
      </div>
      <div id="empty" class="row">
        <div class="col">
          <p>empty</p>
        </div>
        <div class="col">
          
        </div>
      </div>
    </div>
    <script>
      $(document).ready(function() {
        for (i=1; i<=6; i++) {
          $("[id^='ques" + i + "']").hide();
        }

        $('#resultado').children().hide();

        $('#arbol input').on('change', function() {
          let q1 = $('input[name=q1]:checked').attr('value');
          let q2 = $('input[name=q2]:checked').attr('value');
          let q3 = $('input[name=q3]:checked').attr('value');
          let q4 = $('input[name=q4]:checked').attr('value');
          let q5 = $('input[name=q5]:checked').attr('value');

          let comodin = this.name.slice(1);
          
          for (i=1; i<=6; i++) {
            if (comodin < i) {
              $('input[name=q' + i + ']').prop('checked', false);
              $("[id^='ques" + i + "']").hide();
            }
          }
            
          $('#resultado').children().hide();

          if (q1 == 'true') {
            $('#ques1true').show();
            $('#ques1false').hide();
          } else {
            $('#ques1false').show();
            $('#ques1true').hide();
          }
          
          if (q3 == 'true') {
            $('#ques3true').show();
          } else {
            $('#ques3true').hide();
          }

          if (q4 == 'true') {
            $('#ques4false').hide();
          } else {
            $('#ques4false').show();
          }

          $('#resultado').children().hide();
          
          if (q1 == 'true' && q2 == 'true') {
            $('#inline').show();
          } else if (q1 == 'true' && q2 == 'false') {
            $('#banner').show();
          }

          if (q1 == 'false' && q3 == 'true') {
            $('#empty').hide();
            $('#ques4false').hide();
          } else if (q1 == 'false' && q3 == 'false') {
            $('#empty').show();
            $('#ques4false').hide();
          }

          if (q1 == 'false' && q3 == 'true' && q4 == 'true') {
            $('#modal').show();
          }

          if (q1 == 'false' && q3 == 'true' && q4 == 'false' && q5 == 'true') {
            $('#toast').show();
          }

          if (q1 == 'false' && q3 == 'true' && q4 == 'false' && q5 == 'false') {
            $('#banner').show();
          }
        })
      });
    </script>
    <h3>Identificación de errores</h3>
    <p>Asegurar que los usuarios se percatan de que se ha producido un error y dónde.</p>
    <p>Se deben identificar los campos de formulario obligatorios que no han sido completados y se debe informar a los usuarios mediante un texto.</p>
    <p>Se deben proporcionar descripciones textuales de los errores cuando los usuarios introducen datos en un formulario que no cumplen un determinado formato o valor o no están entre los valores permitidos.</p>
    <h3>Evitar que se produzcan errores al introducir datos</h3>
    <p>Se deben proporcionar etiquetas visibles y descriptivas para los campos de formulario y grupos de campos de formulario.</p>
    <h3>Sugerencias ante errores</h3>
    <p>Asegurar, siempre que sea posible, que los usuarios reciben sugerencias adecuadas para corregir errores al introducir datos.</p>
    <p>Al detectar automáticamente un error cuando los usuarios introducen datos se proporcionan sugerencias para hacer la corrección, siempre que sea posible se debe proporcionar dicha sugerencia y esto no debe comprometer la seguridad o la finalidad del contenido.</p>
    <h3>Prevención de errores</h3>
    <p>Evitar graves consecuencias como resultado de un error al realizar una acción que no se puede deshacer.</p>
    <p>En los procesos que implican para el usuario compromisos legales o financieros, en los que se pueden modificar o eliminar datos del usuario o que envían el resultado de una prueba o test, se cumple que dichas acciones son reversibles o bien el usuario puede revisar o confirmar los datos antes de enviarlos.</p>
  </div>
</div>