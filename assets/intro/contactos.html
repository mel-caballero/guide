<section id="card" class="card">
  <header class="card-header text-center">
    <h2>Contactos</h2>
  </header>
  <article class="card-body">
    <table id="table" class="table table-responsive table-light table-striped-columns pt-5">
      <thead class="table-dark">
        <tr>
          <th scope="col">Nombre</th>
          <th scope="col">Descripción</th>
          <th scope="col">Tipo</th>
          <th scope="col">Contacto</th>
          <th scope="col">Ubicación</th>
          <th scope="col">Teléfono</th>
        </tr>
      </thead>
      <tbody>
      </tbody>
    </table>
  </article>
</section>

<script>
  $(document).ready(function () {

    let table = $('#table').DataTable({
      info: true,
      paging: true,
      ordering: true,
      searching: true,
      dom : '<"row py-3"<"col-sm-12 col-md-6"l><"col-sm-12 col-md-6"f>>' +
        '<"row py-3"<"col-sm-12 col-md-6"i><"col-sm-12 col-md-6"p>>' +
        '<"row"<"col-sm-12"t>>' +
        '<"row"<"col-sm-12 col-md-12"p>>',
      language: { url: '//cdn.datatables.net/plug-ins/1.12.1/i18n/es-ES.json' },
      ajax: './assets/intro/contactos.json',
      columns: [
        { data: 'nombre' },
        { data: 'descripcion' },
        { data: 'tipo' },
        { data: 'web',
          render: function (data, type, row, meta) {
            let enlaces = '';
            if (data != '') {
              enlaces += '<a href="' + data + '" title="Se abrirá una nueva ventana"><span class="bi bi-globe"></a> ';
            } 
            
            if (row.linkedin != '') {
              enlaces += '<a href="' + row.linkedin + '" title="Se abrirá una nueva ventana"><span class="bi bi-linkedin"></a> ';
            }

            if (row.correo != '') {
              enlaces +=  '<a href="mailto:' + row.correo + '" title="Se abrirá una nueva ventana"><span class="bi bi-envelope-at"></span></a> ';
            }

            if (row.twitter != '') {
              enlaces +=  '<a href="' + row.twitter + '" title="Se abrirá una nueva ventana"><span class="bi bi-twitter"></span></a> ';
            }
            
            if (row.instagram != '') {
              enlaces +=  '<a href="' + row.instagram + '" title="Se abrirá una nueva ventana"><span class="bi bi-instagram"></a> ';
            }
            
            if (row.youtube != '') {
              enlaces +=  '<a href="' + row.youtube + '" title="Se abrirá una nueva ventana"><span class="bi bi-youtube"></a> ';
            }

            return enlaces;
          }, 
        },
        { data: 'ubicacion' },
        { data: 'telefono' },
      ],
    });

    $('input.btn-check').on('click', function () {
      var column = table.column($(this).attr('data-column'));
      column.visible(!column.visible());
    });
  });
</script>
